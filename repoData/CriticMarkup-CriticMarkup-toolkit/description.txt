You can put this set of BBEdit clippings in the `Clippings/Markdown.markdown` folder of your BBEdit configuration folder (`~/Library/Application Support/BBEdit/Clippings/Markdown.markdown` unless you've moved your configuration directory to Dropbox).

1. Put them in the appropriate folder
2. Start BBEdit
3. Use the clippings menu:
  - For the substitution, deletion or highlight marks, select some text then double-click the appropriate clipping in the Markdown clippings palette.
  - For the insertion or comment marks, place the cursor at the appropriate place in the text and click the appropriate clipping in the Markdown clippings palette.

You can also assign keyboard shortcuts to each of the clippings from the clippings palette. The "control" combinations are largely unused in BBEdit (with the exception of control-s, which is used for progressive search).

Finally, you can make the clippings appear at the top of the Clippings palette by appending `00)` the beginning of the filename for each.
# BBEdit Find Next/Previous CriticMarkup Scripts

These scripts provide a way to move between CriticMarkup marks in a file in BBEdit.

You can put these scripts in the `Scripts` folder of your BBEdit configuration folder (`~/Library/Application Support/BBEdit/Scripts` unless you've moved your configuration directory to Dropbox). Once you've placed them there, you'll find them in the BBEdit Scripts menu.

 Each selects the entire mark and the text it contains. This behavior can be changed by opening the scripts in an AppleScript editor and removing "with selecting match" from the end of the find command.

If the end of the file is reached and no mark is found, the scripts wrap around. This behavior can be changed by opening the scripts in an AppleScript editor and changing "wrap around:true" to "wrap around:false".

You can also assign keyboard shortcuts to each of the scripts:

- Open BBEdit's preferences
- Click the "Menus & Shortcuts" entry
- Click the "Scripts" item
- Doubleclick the greyed out "none" next to each script and enter a keyboard shortcut.

The "control" combinations are largely unused in BBEdit (with the exception of control-s, which is used for progressive search).

Finally, you can make the scripts appear at the top of the BBEdit scripts menu by appending `00)` to the beginning of the filename for each.

## Introduction ##

The Critic Markup CLI is for use with the [Critic Markup Syntax](http://criticmarkup.com). The CLI is a Command Line Interface to convert a Critic Markup file into styled HTML for use with any browser.

## Dependencies ##

The CLI script requires a Python module for converting Multimarkdown into HTML. The default is for the CLI to use the [Python-Markdown](http://pythonhosted.org/Markdown/) module with the 'extra', 'codehilite', 'meta' extensions enabled.

To use the Critic Markup CLI, please [install the module](http://pythonhosted.org/Markdown/install.html).

As an alternative, the CLI can use the [Python-Markdown2](https://github.com/trentm/python-markdown2) module with the 'footnotes', 'fenced-code-blocks', 'cuddled-lists', 'code-friendly' extensions enabled.

To use Python-Markdown2, please [install the library manually](https://github.com/trentm/python-markdown2/#install), using one of several methods.

## Features ##

To see the basic usage of the parser, execute the script as follows:

    >> python criticParser_CLI.py -h
    usage: criticParser_CLI.py [-h] [-m2] [-o out-file] [-css in-file] [-b] source

    Convert Critic Markup to HTML

    positional arguments:
      source                The source file path, including file name

    optional arguments:
      -h, --help            show this help message and exit
      -m2                   Use the markdown2 python module. If left blank then markdown module is used
      -o out-file, --output out-file
                            Path to store the output file, including file name
      -css in-file, --css in-file
                            Path to a custom CSS file, including file name
      -b, --browser         View the output file in the default browser after saving.

The Critic Markup CLI requires at least one argument consisting of the file path to a text file and is executed from the command line as a Python script.

    python criticParser_CLI.py <path_to_source_file>

By default, the CLI tool will output an HTML file in the same location as the source file appended with _CriticParserOut.

### Options ###

There are several optional flags available with the CLI.

The `-m2` option allows the user to convert Markdown using the Python-Markdown2 module. Some may prefer the results of this module in comparison to the original Python-Markdown module.

The `-o` option allows a user to specify an output file and location. The result file saves with overwrite.

The `-css` option allows a uer to override the default CSS, JavaScript and JQuery imports with a user specified file. The `-css` option must be followed by the file path to an alternative.

The `-b` flags immediately opens the output file in the default browser.

### Example Usage ###

From the terminal, the following command will convert a Critic Markup file to HTML using a custom CSS file and open it in the default browser.

     python criticParser_CLI.py 'my_CM_File.md' -o 'my_CM_Output.html' -m2 -css custom_CM_CSS.css -v




## Attention ##

This is a Pre-processor for a soon to be released new version of Marked.app for the Mac. This will not work with versions < 1.5.
# Critic Markup Extension #

*Version 1.0 15 Apr 2013*

This is extension for using [Critic Markup](http://criticmarkup.com) syntax in multimarkdown documents.

## Usage ##

If you edit someone's documents, use one of four critical marks:

- **addition**
- **deletion**
- **text substitution**
- **highlight part of the text for comment**

Each selected mark may be accepted or rejected using System Services. If you don't have them in your OS download [Critical Markup Toolbox](https://github.com/CriticMarkup/CriticMarkup-toolkit/archive/master.zip)
and put available Services inside your `~/Library/Services` directory.


## To-Do ##

- [ ] Rewrite System Services for accepting and rejecting critic marks
- [ ] Add actions for accepting/rejecting marks in whole document at once
- [X] Actions should not appear in Firefox,Opera and Chrome

## Credits ##

Extension and icons made by [Sebastian Szwarc](https://twitter.com/Behinder).
                                                                                                               
![CriticMarkup](http://high90.com/img/CriticMarkup-400px.png)

Welcome to the CriticMarkup Toolkit
====================

Critic Markup is intended to provide basic editorial change tracking in plain text files. The syntax is compatible with Markdown, MultiMarkdown and HTML.

### The Three Laws ###

1. Critic Markup shall be human readable. A human with a simple text editor can easily read and comprehend any text containing Critic Markup.
2. Critic Markup shall be computer readable except where it conflicts with rule 1. Markup syntax should be easily parsed with simple regular expressions to support a wide variety of implementations.
3. Critic Markup shall be compatible with existing markup syntax for Markdown, MultiMarkdown and HTML except where it conflicts with rules one or two. Many users of plain text write in combinations of Markdown and HTML. Critic Markup should work alongside that syntax.

### The Goal ###

Critic Markup can be used in any writing environment without special applications or tool kits. While we have supplied processors and plugins that are compatible with popular apps, they are not required.

Critic Markup should be readable inline and clearly indicate the intent of the editor and author.

Critic Markup should support change tracking with multiple authors and editors through the use of comments.

### Plain Text and HTML ###

Critic Markup may be used without a conversion to HTML. However, as with Markdown, HTML may be a desirable format for a more stylized presentation. We have several recommendations for how Critic Markup may be converted to HTML. The intent is to allow the HTML to be used without custom CSS. However, custom CSS may be used to enhance the review process.

### The Basic Syntax ###

There are five types of Critic marks: 

* Addition `{++ ++}`
* Deletion `{-- --}`
* Substitution `{~~ ~> ~~}`
* Comment `{>> <<}`
* Highlight `{== ==}{>> <<}`

Using these five basic marks you can successfully copy edit in plain text.

#### Additions ####

Additions are inserted inline by surrounding the desired text with curly braces and double plus marks as shown:

	Lorem ipsum dolor{++ sit++} amet...

A space character and "sit" are to be added at the position of the left (or right) most curly brace. The additions may be rendered as `<ins>` tags in the processed HTML:

	Lorem ipsum dolor<ins> sit<ins> amet…

Paragraphs may be inserted in the same manner.

	Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum at orci
	magna. Phasellus augue justo, sodales eu pulvinar ac, vulputate eget nulla.
	Mauris massa sem, tempor sed cursus et, semper tincidunt lacus.{++

	++}Praesent sagittis, quam id egestas consequat, nisl orci vehicula libero,
	quis ultricies nulla magna interdum sem. Maecenas eget orci vitae eros
	accumsan mollis. Cras mi mi, rutrum id aliquam in, aliquet vitae tellus.
	Sed neque justo, cursus in commodo eget, facilisis eget nunc. Cras
	tincidunt auctor varius.

To ensure the Markdown processor outputs valid HTML, the `<ins>` tag encloses a non-breaking space and is followed by two newlines. The result is that both paragraphs render separately. The non-breaking-space gives the tag enough content to render properly, and we assign class=break to allow for custom styling.

	Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum at orci
	magna. Phasellus augue justo, sodales eu pulvinar ac, vulputate eget nulla.
	Mauris massa sem, tempor sed cursus et, semper tincidunt lacus.

	<ins class=”break”>&nbsp;</ins>

	Praesent sagittis, quam id egestas consequat, nisl orci vehicula libero,
	quis ultricies nulla magna interdum sem. Maecenas eget orci vitae eros
	accumsan mollis. Cras mi mi, rutrum id aliquam in, aliquet vitae tellus. Sed
	neque justo, cursus in commodo eget, facilisis eget nunc. Cras tincidunt
	auctor varius.

Rules for proper use of the `<ins>` element can be found in the [HTML 4 spec](http://www.w3.org/TR/REC-html40/struct/text.html#h-9.4).

#### Deletions ####

Deletions are denoted with a similar syntax. The text to be deleted is surrounded with curly braces and double hyphens.

	Lorem{‐‐ ipsum‐‐} dolor sit amet…

The word "ipsum" and a space character are marked for deletion in the above example. These deletions are rendered as `<del>` tags in the processed HTML.

	Lorem<del> ipsum</del> dolor sit amet…

Paragraphs may also be deleted.

	Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum at orci
	magna. Phasellus augue justo, sodales eu pulvinar ac, vulputate eget nulla.
	Mauris massa sem, tempor sed cursus et, semper tincidunt lacus.{‐‐

	‐‐}Praesent sagittis, quam id egestas consequat, nisl orci vehicula libero,
	quis ultricies nulla magna interdum sem. Maecenas eget orci vitae eros
	accumsan mollis. Cras mi mi, rutrum id aliquam in, aliquet vitae tellus.
	Sed neque justo, cursus in commodo eget, facilisis eget nunc. Cras
	tincidunt auctor varius.

The newlines will be removed by the processor and replaced by an inline `<del>` tag. Again, the non-breaking-space gives the tag enough content to render properly.

	Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum at orci
	magna. Phasellus augue justo, sodales eu pulvinar ac, vulputate eget nulla.
	Mauris massa sem, tempor sed cursus et, semper tincidunt lacus. 
	<del>&nbsp;</del> Praesent sagittis, quam id egestas consequat, nisl
	orci vehicula libero, quis ultricies nulla magna interdum sem. Maecenas eget
	orci vitae eros accumsan mollis. Cras mi mi, rutrum id aliquam in, aliquet
	vitae tellus. Sed neque justo, cursus in commodo eget, facilisis eget nunc.
	Cras tincidunt auctor varius.

Rules for proper use of the `<del>` element can be found in the [HTML 4 spec](http://www.w3.org/TR/REC-html40/struct/text.html#h-9.4).

#### Substitutions ####

Substitutions combine a delete with an insert in one snippet, and are written as curly braces and double tildes. A squiggly arrow made up of a tilde and greater-than symbol separates the old and new text. The characters to be deleted always occur to the left of the squiggly arrow.

	Lorem {~~hipsum~>ipsum~~} dolor sit amet…

Despite the unique syntax, substitutions should render as a deletion followed by an insertion.

	Lorem <del>hipsum</del><ins>ipsum</ins> dolor sit amet…

Newlines are treated the same as a deletion or insertion, depending on where they're located.

	Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum at orci
	magna. Phasellus augue justo, sodales eu pulvinar ac, vulputate eget nulla.
	{~~Mauris massa sem, tempor sed cursus et, semper tincidunt lacus.~>

	~~}Praesent sagittis, quam id egestas consequat, nisl orci vehicula libero,
	quis ultricies nulla magna interdum sem. Maecenas eget orci vitae eros
	accumsan mollis. Cras mi mi, rutrum id aliquam in, aliquet vitae tellus.
	Sed neque justo, cursus in commodo eget, facilisis eget nunc. Cras
	tincidunt auctor varius.

After rendering this example, the deletion and insertion are added to the end of the first paragraph and two newlines ensure the proper paragraph break.

	Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum at orci
	magna. Phasellus augue justo, sodales eu pulvinar ac, vulputate eget nulla.
	<del>Mauris massa sem, tempor sed cursus et, semper tincidunt
	lacus.</del><ins class=”break”>&nbsp;</ins>

	Praesent sagittis, quam id egestas consequat, nisl orci vehicula libero,
	quis ultricies nulla magna interdum sem. Maecenas eget orci vitae eros
	accumsan mollis. Cras mi mi, rutrum id aliquam in, aliquet vitae tellus. Sed
	neque justo, cursus in commodo eget, facilisis eget nunc. Cras tincidunt
	auctor varius.

#### Comments ####

Critic Markup supports generic comments for metadata. A comment may include a note, time stamp, author initial or similar annotation.

Comments are added via a set of curly braces and double greater-than/less-than symbols.

	Lorem ipsum dolor sit amet.{>>This is a comment<<}

The contents of a metadata field should render as `<span class="critic comment">` after the relevant change.

	Lorem ipsum dolor sit amet.<span class=”critic comment”>This is a comment</span>

Metadata may be used however you like, whether as explanations for the changes, time stamps or more. The `<span>` element is for inline content only, so all newlines will be stripped during conversion to HTML.

Rules for proper use of the `<span>` element can be found in the [HTML 4 spec](http://www.w3.org/TR/html401/struct/global.html#edef-SPAN).

#### Highlights ####

Highlights may be added as required by an editor or author, and are noted by curly braces and double equal signs. While a highlight can be used on it's own, we recommend that it always be followed by a comment related to the highlighted passage.

	Lorem ipsum dolor sit amet, consectetur adipiscing elit. {==Vestibulum at
	orci magna. Phasellus augue justo, sodales eu pulvinar ac, vulputate eget
	nulla.==}{>>confusing<<} Mauris massa sem, tempor sed cursus et, semper
	tincidunt lacus.

Highlights should be rendered as `<mark>` tags in the processed HTML.

	Lorem ipsum dolor sit amet, consectetur adipiscing elit. <mark>Vestibulum at
	orci magna. Phasellus augue justo, sodales eu pulvinar ac, vulputate eget
	nulla.</mark><span class=”critic metadata”>confusing</span> Mauris massa
	sem, tempor sed cursus et, semper tincidunt lacus.

Rules for proper use of the `<mark>` element can be found in the [HTML 5 spec](http://www.w3.org/html/wg/drafts/html/master/single-page.html#the-mark-element).

### Putting it all together ###

When used in combination the marks can indicate more complex changes.

	Don’t go around saying{‐‐ to people that‐‐} the world owes you a living. The
	world owes you nothing. It was here first. {~~One~>Only one~~} thing is
	impossible for God: To find {++any++} sense in any copyright law on the
	planet. {==Truth is stranger than fiction==}{>>true<<}, but it is because
	Fiction is obliged to stick to possibilities; Truth isn’t.

The above paragraphs should render to HTML in the following manner.

	Don’t go around saying<del> to people that</del> the world owes you a
	living. The world owes you nothing. It was here first.
	<del>One</del><ins>Only one</ins> thing is impossible for God: To find
	<ins>any</ins> sense in any copyright law on the planet. <mark>Truth is
	stranger than fiction</mark><span class=”critic comment”>true</span>, but it
	is because Fiction is obliged to stick to possibilities; Truth isn’t.

### Caveats ###

There are a few limitations to consider when using CriticMarkup.

#### Avoid Newlines in CriticMarkup ####

Newlines should be avoided as much as possible within CriticMarkup tags. Many of the HTML elements we use are inline elements only. While we've crafted CriticMarkup with as much care as possible, it is possible for you to break the syntax and output invalid HTML if you try hard enough.

#### Wrap Markdown Tags Completely ####

While it may support incomplete Markdown tags in the future, the CriticMarkup processor currently chokes on them. Avoid this:

	I really love *italic {~~fonts*~>font-styles*~~}.

Instead, wrap the asterisks completely:

	I really love {~~*italic fonts*~>*italic font-styles*~~}.

---

    Copyright 2013 Gabe Weatherhead and Erik Hess

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.


