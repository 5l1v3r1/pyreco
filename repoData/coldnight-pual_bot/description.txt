## 2014-03-05
* 增加讨论组支持

## 2014-01-16
* 增加插件机制
* 更改原先的消息处理机制, 使用插件机制来处理消息

## 2013-11-27
* 在遇到踢出时首先尝试重新登录(需更新 ``twqq`` 包)

## 2013-11-15
* 将WebQQ协议提取成一个包: https://github.com/coldnight/twqq
* 对代码进行重构

## 2013-11-04
* 增加一个HTTP server用来通过浏览器输入验证码(配置见 ``config.py.example``)
* 增加当需要验证码时发送邮件提醒(配置见 ``config.py.example``)

## 2013-10-11
* 修复若干问题
* 去除lxml依赖

## 2013-08-16
* 支持输入验证码后将程序至于后台, 修复由于需要验证码无法将程序至于后台

## 2013-08-15
* 适配最新的WebQQ协议
* 使用tornadohttpclient库重构

## 2013-06-08
* 修复消息间隔引起的不合理延迟
* 支持临时消息

## 2013-06-07
* 修复回应好友消息丢消息的情况
* 修复好友消息互动和命令不用加机器人昵称前缀或后缀
* 支持设置签名:通过发送好友消息:`设置签名:[密码]|[签名内容]` 密码和签名内容不能包含分割符 `|`, 密码配置参见`config.py.example`


## 2013-06-06
* 防止SimSimi被封ip, SimSimi支持代理, 推荐goagent, 配置参见`config.py.example`
* 对`HTTPStream`进行重构
* 支持 socket.timeout 重试

## 2013-06-04
* SimSimi容错, 去掉错误显示
* 支持`Pual`打头或结尾的消息, 不群分大小写


## 2013-05-29
* 添加SimSimi聊天机器人, 发送`Pual`打头的信息将会和`Simsimi`机器人互动

## 2013-05-16
* 添加Python shell功能, 可给每个人分配一个命名空间, 可以互动执行语句, 保持历史语句结果供下次使用

## 2013-05-13
* 添加获取url标题功能

## 2013-5-10
* 使用开启子进程来解决无重试机制
* 使用延迟发送解决快速发送两条相同的内容的消息导致的丢是消息
* 增加`UPLOAD_CHECKIMG`选项用来支持选择是否将验证图片上传到图片服务器

## 2013-04-28
* 发送群消息频率过快导致的消息丢失

## 2013-04-26
* 解决 在线时间稍长, 当经过多次请求后会触发`socket.gaierror(-2, 'Name or service not known')` 异常

# 2013-04-24
* 放弃原先的 pyxmpp2 mainloop 改为tornado
* 不在将验证图片放到网站上, 而是作为临时文件保存, 请使用图片查看器查看, 然后输入验证码

# WebQQ发送消息接口

## 检查

接口

    /api/check

方法

    GET

参数

    无

返回

    格式: json

    {
        status   状态             // False为验证码过期需等待
        wait     是否需要等待验证码
        requrie  是否需要验证吗
        message  消息
        url      验证码url
    }


## 提交验证码

接口

    /api/input

方法

    POST

参数

    vertify        验证码

返回

    格式: json

    {
        status // 状态  True 成功登录 False登录失败
        message // 消息
    }



## 发送消息

接口

    /api/send

方法

    POST

参数

    markname           备注名
    message            消息

返回

    格式: json

    {
        status      // 状态 True 发送成功, False 发送失败
        message     // 消息
    }

# pual_bot 一个弱智的QQ机器人
pual_bot 是基于[twqq](https://github.com/coldnight/twqq)的高效的支持并发的WebQQ机器人, 其主要功能有 执行Python代码, 贴代码, 英汉互译

# 测试QQ
~~我在VPS上跑了一个测试的, 大家可以把这个号拉进群里进行调戏`1685359365`~~

# 安装配置
程序依赖 可使用 easy_install 安装
```bash
easy_install twqq http-parser regex
```

有些插件依赖于 bs4, 所以可以通过 apt 安装
```bash
sudo apt-get install python-bs4
```

将`config.py.example`重命名为 `config.py`, 填入QQ号码和密码配置, 执行webqq.py脚本. 

```bash
    mv doc/config.py.example config.py
```

# 最近更新
## 2014-03-05
* 增加讨论组支持

## 2014-01-16
* 增加插件机制
* 更改原先的消息处理机制, 使用插件机制来处理消息

## 2013-11-27
* 在遇到踢出时首先尝试重新登录(需更新 ``twqq`` 包)

## 2013-11-15
* 将WebQQ协议提取成一个包: https://github.com/coldnight/twqq
* 对代码进行重构


# TODO
* ~~修复群成员列表获取~~
* ~~修复临时消息~~
* ~~对代码重构~~
* ~~提取文档~~
* ~~去除废弃代码~~
* ~~将代码提取出一个包~~

