# Managing translations

## Preliminaries

FileRock Client adopts the **gettext** suite to support i18n. This implies three kinds of files:

1. `filerock-client.pot`: a generated text file that contains all textual strings collected by scanning FileRock Client's source files.

2. `xx.po`: text files that contains a translation to language `xx` for every textual string. E.g.: `en.po`. Each `.po` file is initialized as a copy of `filerock-client.pot` and then it's manually edited by translators.

3. `xx.mo`: binary file generated by compiling `xx.po`.

In order to install a translated version of FileRock Client, the desired `xx.mo` files must be copied to some standard filesystem location. If FileRock can't find a suitable `xx.mo` when it's started, it will ignore i18n and will just use English. For instance this happens when FileRock Client is started from a cloned GIT repository, without installing it.

Our installer (see: `setup.py`) uses the **distutils-extra** python package to support gettext i18n, which does all the necessary work. To just install FileRock Client from a cloned GIT repository, all you must do is to have installed both `distutils-extra` and also the `intltool` suite, which is used as a dependency. See the general README file for details.

## How to create a new translation

1. In order to generate a translation, the file `filerock-client.pot` is required. If such file is not into this folder, you can generate it by moving to the project root path and running the command `python setup.py build_i18n`

2. The base of the translation file (the .po file) can be generated with the command `msginit --locale=LL_CC --input=filerock-client.pot` where `LL_CC` is the locale of the translation you want to write, e.g. for `en_US` will be the one for `English (US)`: this command will generate a `*.po` file, named LL or LL_CC, depending on the chosen locale. Note that you have to `CHDIR` to this folder, for `msginit` to work.

3. This file in generated in gettext format: empty fields can be compiled with the translations.

4. The `*.po` file must be compiled into a `*.mo` file. You can do this running the command `python setup.py build_i18n` from the project root.

5. The `*.mo` is generated as `build/mo/LL_CC/LC_MESSAGES/filerock-client.mo`

6. The translation is now ready but the `*.mo` file must be moved into your locale system directory (e.g., `cp build/mo/en_US/LC_MESSAGES/filerock-client.mo /usr/locale/en_US/LC_MESSAGES/` )

7. You can check your translation by running the client, e.g. with `LANG=en_US.UTF-8 ./FileRock.py`

If you want to submit your translation to the FileRock team, please check your message and if everything looks good send the `.po` file to support@filerock.com to be included in the next releases.

# How to update an existing translation

It happens that a `xx.po` file gets obsolete with respect to the `.pot` file that generated it. They can be merged with the command `python setup.py build_i18n -m`, which produces a new file `xx1.po` which replaces the old one.

##Hello, this is FileRock Client

This is the client of <a href="https://www.filerock.com/">FileRock</a>,
a backup and synchronization service that provides confidentiality and
checks the integrity of your data.

For instructions about how to run FileRock Client from the source code, look <a href="#howtorun">here</a>.<br/>
For the list of required dependencies, look <a href="#dependencies">here</a>.<br/>
Release notes for FileRock Client are available <a href="https://www.filerock.com/beta/release_notes.txt">here</a>.

In order to use FileRock Client, you will need a FileRock account.
You can get one [here](https://www.filerock.com/register).<br/>
If you don't have an invitation code,
you can leave your email address on [FileRock landing page](https://www.filerock.com/),<br/>
and you will receive one as soon as possible. First arrived, first served ;-)



```
 ______ _ _      _____            _       _____ _ _            _
|  ____(_) |    |  __ \          | |     / ____| (_)          | |
| |__   _| | ___| |__) |___   ___| | __ | |    | |_  ___ _ __ | |_
|  __| | | |/ _ \  _  // _ \ / __| |/ / | |    | | |/ _ \ '_ \| __|
| |    | | |  __/ | \ \ (_) | (__|   <  | |____| | |  __/ | | | |_
|_|    |_|_|\___|_|  \_\___/ \___|_|\_\  \_____|_|_|\___|_| |_|\__|

Copyright (C) 2012 Heyware s.r.l.

This file is part of FileRock Client.

FileRock Client is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

FileRock Client is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with FileRock Client. If not, see <http://www.gnu.org/licenses/>.
```


--

###<a name="howtorun">How to run FileRock Client</a>

In order to run FileRock client from the source code, follow these instructions:

+ Make sure that your system has all the <a href="#dependencies">required dependencies</a> installed.
+ Clone this repository: `git clone https://github.com/filerock/FileRock-Client.git`
+ Run the client from its main python script:
    + on Mac OS X, make sure tu use the 32-bit version of python 2.7.x: e.g., `python2.7-32 FileRock.py`
    + on Linux or Windows, if your default python version is python 2.7.x, just run `python FileRock.py`
+ Please not that **FileRock Client used from the source code does not update itself automatically or notify the user when updates are available**. If you run FileRock Client from the source code, you will need to periodically pull from this repository to get the latest version.


Packaged version of FileRock Client are availble [here](https://www.filerock.com/download).

We will do our best to keep the code in this repository and the packaged versions synchronized.

--

###<a name="dependencies">Required dependencies</a>

+ Reference **python version** is 2.7.2

Most of the following dependencies can be easily installed via [pip](http://www.pip-installer.org).<br/>
If you don't have pip yet, installation instructions are available [here](http://www.pip-installer.org/en/latest/installing.html).

+ pbkdf2 1.3 - Can be installed through pip or from the [tarball](http://pypi.python.org/packages/source/p/pbkdf2/pbkdf2-1.3.tar.gz#md5=40cda566f61420490206597243dd869f)
+ pycrypto 2.5 - Can be ckecked out [from git](https://github.com/dlitz/pycrypto) or from the [tarball](http://ftp.dlitz.net/pub/dlitz/crypto/pycrypto/pycrypto-2.6.tar.gz)
+ wxPython 2.8.12.1 - Can be downloaded from [wxpython.org](http://wxpython.org/download.php). Binaries for MS Windows are available [here](http://downloads.sourceforge.net/wxpython/wxPython2.8-win32-uni
code-2.8.12.1-py27.exe) and for Mac Os X [here](http://downloads.sourceforge.net/project/wxpython/wxPython/2.8.12.1/wxPython2.8-osx-unicode-2.8.12.1-universal-py2.7.dmg)
+ PIL (Python Image Library) - Can be installed through pip.
    + Installation through pip requires a C compiler
    + Binaries for MS Windows are available [here](http://www.pythonware.com/products/pil/)
+ apscheduler 2.0.3 - Can be installed through pip.
+ PySocks 1.04 - Can be ckecked out [from git](https://github.com/Anorov/PySocks).
+ portalocker 0.3 - Can be installed through pip.

The following are required only on Linux and Mac OS X:

+ setproctitle 1.1.6 - Can be installed through pip.

The following are required only on Mac OS X:

+ xattr 0.6.4 - Can be installed through pip.

The following are required only on MS Windows:

+ pywin32 217 - Can be checked out [from sourceforge project page](http://sourceforge.net/projects/pywin32/files/pywin32/Build%20217/)
+ protobuf 2.4.1 - Can be installed through pip.

The following are optional dependencies, needed only for the `i18n` support (that is, translation to languages different from English).

+ distutils-extra 2.37 - Can be checked out [from Launchpad](https://launchpad.net/python-distutils-extra).
+ intltool 0.50.2 - Can be checked out [from Launchpad](https://launchpad.net/intltool).
    + Requires to install a [perl](http://www.perl.org/) interpreter as a dependency.


The following are required only for developers, in order to run the automated tests:

+ nose 1.1.2 - Can be installed through pip.
+ mock 1.0.1 - Can be installed through pip.







