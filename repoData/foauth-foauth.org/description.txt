Title: Introducing foauth.org
Slug: introducting-foauth
Date: 2013-08-01

[OAuth](http://oauth.net/) is a complicated way for services to talk to each
other, but overall, it works pretty well. Unfortunately, its complexity makes
it difficult to implement even for seasoned programmers building a service.
It's that much harder to work with for individuals trying to get access to
their own data. Thankfully, that second point is something we can improve.

Because OAuth is designed for services to talk to each other, it's natural
that it would be difficult for individual users to work with it. But its very
nature as a service-oriented protocol offers a solution: a separate service
that sits between you and the services you're really trying to work with. It
could manage OAuth with other services, and provide you a simpler form of
authentication, which is easier to work with in simple scripts.

To my knowledge, foauth.org is the first service to do exactly that. You can
sign up for an account here, then use authorize access to other services you'd
like to work with. For many services, you even get to choose what level of
access you'd like to authorize. Then, you can make requests using foauth.org as
a proxy, providing simple credentials using HTTP Basic authentication.

    >>> import requests
    >>> auth = 'email@example.com', 'password'
    >>> r = requests.get('https://foauth.org/api.twitter.com/1/statuses/user_timeline.json', auth=auth)
    >>> r.json()[0]['text']
    "Just signed up with https://foauth.org/ and it's awesome! Thanks @Gulopine!"

## Sponsorship

Because of its nature, foauth.org doesn't have a business plan; making money
isn't the goal. The site is instead supported by sponsors with an interest in
giving back to open source projects like this.

The first sponsor is [Heroku](https://heroku.com/), who have graciously donated
the resources to host the site on their platform. They cover all hosting costs,
including the web dynos, production-quality database and SSL support.
Indirectly, they also support the private OAuth proxy, because it's built to
run on their free tier. More on that in the [next post](/blog/taking-privacy-seriously/).

The second sponsor to join up is [Runscope](https://runscope.com/), who have
donated financially. Their generous sponsorship will hopefully be used to fund
developer accounts with services that require them, so that you don't need to
pay for a separate account in order to access your data. The availability of
this as an option will depend on the terms and conditions set forth by each
service.

If you'd like to help your yourself, you can also donate directly, which will
help me justify the time I spend working on the site. You can either donate
[directly to foauth.org](https://gumroad.com/l/rWgD) using Gumroad, or you can
instead [support me](https://gittip.com/gulopine) and all my projects using
Gittip.

## Use it well

So if you're interested in accessing your data from your favorite services, and
you don't want to deal with OAuth, you have a couple new options to do so.
Whether you choose to run your own or let foauth.org handle the bulk of it, you
can connect to nearly 60 services, and plenty more are planned.

In addition, foauth.org is entirely [open source](https://github.com/foauth/foauth.org),
allowing you to review the code and what it does, how it stores your
credentials and what it does and doesn't do with that information. If you're
uncomfortable with any aspect of the code, you're welcome to submit an issue or
even a pull request to suggest changes.

Please feel free to report any bugs or other problems you encounter and don't
be afraid to ask for new services. I'm working on more documentation, which
should help explain the process of writing a new provider class, so you can
even submit useful pull requests to support new services.

Title: We Take Your Privacy Seriously
Slug: taking-privacy-seriously
Date: 2013-08-02

A main concern from the beginning has been privacy. Everything is wrapped in
SSL, and because it uses OAuth under the covers, you'll never have to supply
foauth.org your password for any of your services. But that's not the only
aspect of the site that matters, when it comes to privacy.

Despite not giving foauth.org your password, you do grant the site access to
your accounts at other services, and you need to be confident that those
priveleges are used properly. To that end, foauth.org allows you to select
which permissions you authorize, wherever a service allows it.

In addition, foauth.org is entirely [open source](https://github.com/foauth/foauth.org),
allowing you to review the code and what it does, how it stores your
credentials and what it does and doesn't do with that information. If you're
uncomfortable with any aspect of the code, you're welcome to submit an issue or
even a pull request to suggest changes. If that's not enough, you can fork it
and run it yourself.

That last point has been important for a number of people already. Regardless
of the quality of the codebase, many people are understandably wary of giving a
third-party access to their data. Even though the code itself may be a good
steward of that information, code doesn't provide any guarantees about the
people behind it.

These concerns are completely valid, which is why I also built another project,
a [private OAuth proxy](https://github.com/foauth/oauth-proxy), built
specifically for running it yourself. There are a number of steps involved,
but it allows you to be in control of your own proxy, owning the data yourself.
It's designed to run on [Heroku](https://heroku.com/), and will work quite well
on their free tier.

Running your own proxy is a bit more complicated than using foauth.org though,
because you'll have to also manage your own application keys. You'll have to
sign up for developer accounts, register OAuth applications and enter your app
keys into the proxy configuration. When you use foauth.org, all these steps
have been done for you, so it's a trade-off between ownership and ease of use.

Inspecting traffic
------------------

On foauth.org itself, the Terms of Service forbid the service from inspecting
your API traffic beyond just the OAuth dance and storing your username with
each service. Any additional traffic is always passed through, unmonitored and
as unmodified as possible. Having your own private OAuth proxy allows you the
chance to see traffic in more detail if you'd like.

To that end, the private proxy supports simple [Runscope](http://runscope.com/)
integration to log your API traffic. To make it as easy as possible to work
with, [Runscope has a Heroku add-on](https://addons.heroku.com/runscope) that
you can install easily. Once you install it, your OAuth proxy will see that
and automatically send your requests through it.

## So which should you use?

Now you have two choices: the fully-managed foauth.org or your own self-hosted
OAuth proxy. They do most of the same things, so it can be hard to see why you
would choose one or the other. Essentially, it boils down to a tradeoff between
control and convenience. foauth.org provides some benefits and drawbacks:

* It's easy to setup, because everything can be done over the web.
* You don't need to register applications with each provider service.
* You're not in control of your own access keys; they're managed by foauth.org.
* You can't inspect any of the traffic going across the wire.
* You're sharing hosting resources with all other foauth.org users.

On the other hand, running your own has a different set of things to consider:

* You have full control over all your access keys.
* You can optionally inspect all your API traffic through Runscope.
* You can choose your own custom domain for your proxy.
* You get a dedicated set of hosting resources, which you can adjust yourself.
* You need to register an application with each service provider you'll use.
* The service is managed mostly in your terminal, using the Heroku toolbelt.

If you're just looking to get up and running quickly, foauth.org can be a great
way to determine if the process will work for you, even if you decline to grant
write access to your services. If you need more access than you're willing to
provide to a third-party, you ocan switch to running your own private proxy, as
long as you're willing to do some extra work to install and manage it.

I've tried to make the installation and management of the private proxy as easy
as possible, so that anyone who can work with a command-line interface should
be able to work with it just fine. In general use, it's probably a better
approach for most users' needs.

## Which one is better for production use?

This is difficult to answer, because terminology gets in the way. Most of the
time, "production use" refers to running a public-facing website that users can
rely on. I'd argue that neither of these offerings should ever be used in such
a case, but it's not because of reliability concerns.

These services are designed for use by individuals retrieving their own data.
Public sites with their own sets of users would be better served by having real
OAuth implementations designed specifically for the sites in question. This is
a stopgap for people *not* running a real site to get their data more easily.
If you're running a real site, your users deserve better integration than
you'll get from anything foauth can offer.
foauth.org: OAuth for one
=========================

`OAuth`_ is a great idea for interaction between big sites with lots of users.
But, as one of those users, it's a pretty terrible way to get at your own data.
That's where foauth.org comes in, giving you access to these services using
HTTP Basic, which is easily available in hundreds of existing tools, such as
`requests`_

.. code-block:: pycon

  >>> import requests
  >>> auth = 'email@example.com', 'password'
  >>> data = {'status': "Just signed up with http://foauth.org/ and it's awesome! Thanks @Gulopine!"}
  >>> requests.post('https://foauth.org/api.twitter.com/1/statuses/update.json', data=data, auth=auth)
  >>> r = requests.get('https://foauth.org/api.twitter.com/1/statuses/user_timeline.json', auth=auth)
  >>> r.json[0]['text']
  "Just signed up with http://foauth.org/ and it's awesome! Thanks @Gulopine!"

Implementation
--------------

foauth.org uses the OAuth support from `requests`_ (powered by `oauthlib`_) to
handle the OAuth signatures, behind `Flask`_ for interacting with users.
Currently, requests and oauthlib only fully support OAuth 1.0, so the current
crop of supported providers only includes those that use 1.0. Once requests and
oauthlib land full support for OAuth 2.0, another list of providers can be
added as well.

Providers themselves are implemented as Python classes that inherit from base
OAuth support. This means that new providers can be requested and added using
GitHub's pull requests. Documentation for how to define these provider classes
is still forthcoming.

.. _OAuth: http://oauth.net/
.. _requests: https://github.com/kennethreitz/requests
.. _oauthlib: https://github.com/idan/oauthlib
.. _Flask: https://flask.pocoo.org/

